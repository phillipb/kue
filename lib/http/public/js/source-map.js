{"version":3,"file":"a829e789-6aaa-475c-92bc-8bd22c8c6420.js","sources":["../../client/app.js","../../client/controllers/application.js","../../client/controllers/home.js","../../client/data.js","../../client/helpers/arrayify.js","../../client/helpers/toAgo.js","../../client/models/job.js","../../client/models/stat.js","../../client/router.js","../../client/runtime.js"],"names":["App","Ember","Application","create","rootElement","LOG_TRANSITIONS","LOG_TRANSITIONS_INTERNAL","initializer","name","initialize","container","application","register","Session","singleton","inject","Object","extend","currentUser","isAuthenticated","localStorage","getItem","property","token","setToken","setItem","this","removeToken","removeItem","ApplicationController","ArrayController","HomeController","ObjectController","actions","removeFirstItem","objectAtContent","destroyRecord","total","argument","get","DS","RESTAdapter","reopen","headers","x-auth-token","RawTransform","Transform","deserialize","serialized","serialize","deserialized","Handlebars","helper","value","options","escaped","Utils","escapeExpression","SafeString","moment","fromNow","attr","Job","Model","created_at","duration","JobAdapter","findQuery","store","type","query","ajax","Stat","completeCount","inactiveCount","activeCount","failedCount","delayedCount","Router","location","map","route","path","HomeRoute","Route","model","ApplicationRoute","find","InactiveRoute","CompleteRoute","FailedRoute","DelayedRoute","ActiveRoute","IndexRoute","jade","exports","Array","isArray","arr","prototype","toString","call","keys","obj","key","hasOwnProperty","push","merge","a","b","ac","bc","filter","nulls","concat","join","val","attrs","buf","terse","len","length","i","indexOf","JSON","stringify","escape","html","String","replace","rethrow","err","filename","lineno","context","str","require","readFileSync","lines","split","start","Math","max","end","min","slice","line","curr","message"],"mappings":"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","sourcesContent":["App = Ember.Application.create({\n  rootElement: '#body',\n  LOG_TRANSITIONS: true, // basic logging of successful transitions\n  LOG_TRANSITIONS_INTERNAL: true // detailed logging of all routing steps\n});\n\nEmber.Application.initializer({\n  name: 'Dependency-Injection',\n\n  initialize: function(container, application) {\n    App.register('session:current', App.Session, {singleton: true});\n    App.inject('controller', 'session', 'session:current');\n    App.inject('route', 'session', 'session:current');\n  }\n});\n\nApp.Session = Ember.Object.extend({\n  currentUser: '',\n\n  isAuthenticated: function() {\n    return !!localStorage.getItem('token');\n  }.property('isAuthenticated'),\n\n  token: function() {\n    return localStorage.getItem('token');\n  }.property('token'),\n\n  setToken: function(token) {\n    localStorage.setItem('token', token);\n    this.isAuthenticated = true;\n  },\n\n  removeToken: function() {\n    localStorage.removeItem('token');\n    this.isAuthenticated = false;\n  }\n});\n\n","App.ApplicationController = Ember.ArrayController.extend({\n\n\n});\n","App.HomeController = Ember.ObjectController.extend({\n\n  actions: {\n    removeFirstItem: function() {\n      this.objectAtContent(0).destroyRecord();\n    }\n  },\n\n  total: function (argument) {\n    return this.get('length');\n  }.property('@each')\n\n});\n","//DS.RESTAdapter.reopen({\n  //namespace: 'api'\n//});\n\n//App.ApplicationSerializer = DS.RESTSerializer.extend({\n  //primaryKey: 'id'\n//});\n\nDS.RESTAdapter.reopen({\n  headers: {\n    'x-auth-token': localStorage.getItem('token') || ''\n  }\n});\n\nApp.RawTransform = DS.Transform.extend({\n  deserialize: function(serialized) {\n    return serialized;\n  },\n  serialize: function(deserialized) {\n    return deserialized;\n  }\n});\n","Ember.Handlebars.helper('arrayify', function(value, options) {\n  var escaped = Handlebars.Utils.escapeExpression(value);\n  return new Handlebars.SafeString('<span class=\"highlight\">' + escaped + '</span>');\n});\n","Ember.Handlebars.helper('toAgo', function(value, options) {\n  return moment(value).fromNow();\n});\n","var attr = DS.attr;\n\nApp.Job = DS.Model.extend({\n  created_at: attr('string'),\n  duration: attr('string')\n});\n\n\nApp.JobAdapter =  DS.RESTAdapter.extend({\n\n  findQuery: function(store, type, query) {\n    return this.ajax('/jobs/' + query.type + '/0..10/asc', 'GET');\n  }\n});","var attr = DS.attr;\n\nApp.Stat = DS.Model.extend({\n  completeCount: attr('number'),\n  inactiveCount: attr('number'),\n  activeCount: attr('number'),\n  failedCount: attr('number'),\n  delayedCount: attr('number')\n});\n\n\n/*App.StatsAdapter =  DS.RESTAdapter.extend({\n  findQuery: function(store, type, query) {\n    return this.ajax('/stats/', 'GET');\n  }\n});*/","(function () {\n  'use strict';\n\n  App.Router.reopen({\n    location: 'auto'\n  });\n\n  App.Router.map(function () {\n    this.route('home', {path: '/'});\n    this.route('inactive', {path: '/inactive'});\n    this.route('complete', {path: '/complete'});\n    this.route('failed', {path: '/failed'});\n    this.route('delayed', {path: '/delayed'});\n    this.route('active', {path: '/active'});\n  });\n\n\n  App.HomeRoute = Ember.Route.extend({\n    model: function() {\n      return {};\n    }\n  });\n\n  App.ApplicationRoute = Ember.Route.extend({\n    model: function() {\n      //TODO: BUILD STATS ADAPTOR. THIS EXPECTS AN ARRAY SO I HACKED BACKEND.\n      return this.store.find('stat');\n    }\n  })\n\n  App.InactiveRoute = Ember.Route.extend({\n    model: function() {\n      return this.store.find('job', {type: 'inactive'});\n    }\n  });\n\n  App.CompleteRoute = Ember.Route.extend({\n    model: function() {\n      return this.store.find('job', {type: 'complete'});\n    }\n  });\n\n  App.FailedRoute = Ember.Route.extend({\n    model: function() {\n      return this.store.find('job', {type: 'failed'});\n    }\n  });\n\n  App.DelayedRoute = Ember.Route.extend({\n    model: function() {\n      return this.store.find('job', {type: 'delayed'});\n    }\n  });\n\n  App.ActiveRoute = Ember.Route.extend({\n    model: function() {\n      return this.store.find('job', {type: 'active'});\n    }\n  });\n\n  App.IndexRoute = Ember.Route.extend({\n    model: function() {\n      return {name : 'Phillip Burch'};\n    }\n  });\n\n})();\n","jade=function(exports){Array.isArray||(Array.isArray=function(arr){return\"[object Array]\"==Object.prototype.toString.call(arr)}),Object.keys||(Object.keys=function(obj){var arr=[];for(var key in obj)obj.hasOwnProperty(key)&&arr.push(key);return arr}),exports.merge=function merge(a,b){var ac=a[\"class\"],bc=b[\"class\"];if(ac||bc)ac=ac||[],bc=bc||[],Array.isArray(ac)||(ac=[ac]),Array.isArray(bc)||(bc=[bc]),ac=ac.filter(nulls),bc=bc.filter(nulls),a[\"class\"]=ac.concat(bc).join(\" \");for(var key in b)key!=\"class\"&&(a[key]=b[key]);return a};function nulls(val){return val!=null}return exports.attrs=function attrs(obj,escaped){var buf=[],terse=obj.terse;delete obj.terse;var keys=Object.keys(obj),len=keys.length;if(len){buf.push(\"\");for(var i=0;i<len;++i){var key=keys[i],val=obj[key];\"boolean\"==typeof val||null==val?val&&(terse?buf.push(key):buf.push(key+'=\"'+key+'\"')):0==key.indexOf(\"data\")&&\"string\"!=typeof val?buf.push(key+\"='\"+JSON.stringify(val)+\"'\"):\"class\"==key&&Array.isArray(val)?buf.push(key+'=\"'+exports.escape(val.join(\" \"))+'\"'):escaped&&escaped[key]?buf.push(key+'=\"'+exports.escape(val)+'\"'):buf.push(key+'=\"'+val+'\"')}}return buf.join(\" \")},exports.escape=function escape(html){return String(html).replace(/&(?!(\\w+|\\#\\d+);)/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},exports.rethrow=function rethrow(err,filename,lineno){if(!filename)throw err;var context=3,str=require(\"fs\").readFileSync(filename,\"utf8\"),lines=str.split(\"\\n\"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context),context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?\"  > \":\"    \")+curr+\"| \"+line}).join(\"\\n\");throw err.path=filename,err.message=(filename||\"Jade\")+\":\"+lineno+\"\\n\"+context+\"\\n\\n\"+err.message,err},exports}({});"]}